class TestBot{constructor(){}getRandomInteger(a,b){return Math.floor(Math.random()*(b-a+1)+a)}browseToNextPage(){let a=document.getElementsByTagName("a");this.getRandomInteger(0,a.length-1);if(0<a.length){let b=this.getRandomInteger(0,a.length-1);a[b].click()}else history.back()}getDislikeMessage(){const a=new Map([[1,"Why don't I see cat photos here?!"],[2,"This page looks terrible."],[3,"I did not want this page."],[4,"I am so confused!"],[5,"This isn't what I wanted."]]);return[{varName:"icap.action.message",
parsibleValue:a.get(this.getRandomInteger(1,a.size))}]}getLikeMessage(){const a=new Map([[1,"This looks really good!"],[2,"This was exactly what I was looking for."],[3,"This is super helpful!"],[4,"Thanks!"],[5,"I like this page."]]);return[{varName:"icap.action.message",parsibleValue:a.get(this.getRandomInteger(1,a.size))}]}simulateReadersActivities(){if(.5>Math.random()){console.log("bounced");var a=1E3*this.getRandomInteger(1,3);setTimeout(()=>{this.browseToNextPage()},a)}else.1>Math.random()?
(.1>Math.random()?(a=this.getDislikeMessage(),GLOBAL_ICAP_REPORTER.addActionMeasurement("DISLIKE",a)):GLOBAL_ICAP_REPORTER.addActionMeasurement("DISLIKE"),console.log("disliked"),GLOBAL_ICAP_REPORTER.commitMeasurements()):.1>Math.random()&&(.1>Math.random()?(a=this.getLikeMessage(),GLOBAL_ICAP_REPORTER.addActionMeasurement("LIKE",a)):GLOBAL_ICAP_REPORTER.addActionMeasurement("LIKE"),console.log("liked"),GLOBAL_ICAP_REPORTER.commitMeasurements()),.05>Math.random()?(console.log("stuck"),a=6E4*this.getRandomInteger(5,
7),setTimeout(()=>{this.browseToNextPage()},a)):(console.log("new page"),a=1E3*this.getRandomInteger(1,3),setTimeout(()=>{this.browseToNextPage()},a))}run(){console.log("The iCAP testbot is here!");this.simulateReadersActivities()}}var GLOBAL_TESTBOT=new TestBot;GLOBAL_TESTBOT.run();
